  <div id="readme" class="readme blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="text"><table>
<tbody><tr>
<td width="25%">
<i></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
练习10 
</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 使用资源
</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\ FMEData2018 \ DATA \ CellSignals \ CellSignal.csv
</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总体目标</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 演示如何使用REST API上传文件和下载文件。 </font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演示</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 管理资源的调用 </font></font></td>
</tr>
</tbody></table>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过REST API，您将可以访问FME Server中可用的资源。</font><font style="vertical-align: inherit;">您可以使用REST API列出文件，上传文件和删除文件。</font><font style="vertical-align: inherit;">如果要将数据定向到FME Server中的某个区域，这在Web应用程序中很有用。</font></font></p>
<hr>
<table>
<tbody><tr>
<td>
<i></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ricky RESTless说......
</font></font></td>
</tr>
<tr>
<td>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大多数文件管理都可以通过REST API处理。</font><font style="vertical-align: inherit;">这意味着在Web应用程序中可以让用户将文件上传到服务器，运行转换，然后将文件返回给用户。</font><font style="vertical-align: inherit;">这些调用也在FME JavaScript API中，稍后将在课程中使用。</font></font></p>

</td>
</tr>
</tbody></table>
<hr>
<h4><a id="user-content-uploading-a-file" class="anchor" aria-hidden="true" href="./6.1.WorkingWithResources.md#uploading-a-file"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上传文件</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此调用会将文件上传到资源文件夹中的数据文件夹。</font><font style="vertical-align: inherit;">文件名在Content-Disposition参数中指定。</font><font style="vertical-align: inherit;">如果要在数据文件夹中指定目录，只需在filesys之后写入文件夹名称。</font><font style="vertical-align: inherit;">如果从用户请求数据并将数据输入到工作空间中，则上传文件在Web应用程序中可能是有用的。</font></font></p>
<p><br><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1）在Postman中输入以下URL和Headers</font></font></strong></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Postman中，单击加号以打开新选项卡。</font></font></p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

&lt;style type =“text / css”&gt; .tg {border-collapse：collapse; border-spacing：0;} .tg td {font-family：Arial，sans-serif; font-size：14px; padding：10px 5px ; border-style：solid; border-width：1px; overflow：hidden; word-break：normal; border-color：black;} .tg th {font-family：Arial，sans-serif; font-size：14px; font-weight：normal; padding：10px 5px; border-style：solid; border-width：1px; overflow：hidden; word-break：normal; border-color：black;} .tg .tg-ao4k {background-color ：＃e6ffe6;颜色：＃333333; vertical-align：top} .tg .tg-a080 {background-color：＃e6ffe6; vertical-align：top} &lt;/ style&gt;
</font></font><table>
  <tbody><tr>
    <th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POST</font></font></th>
    <th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://<yourServerHost>/fmerest/v3/resources/connections/FME_SHAREDRESOURCE_DATA/filesys/</font></font></th>
  </tr>
</tbody></table>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">头域：</font></font></strong></p>
<ul>
<li>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Content-Type：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> application / octet-stream</font></font></p>
</li>
<li>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accept：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> application / json</font></font></p>
</li>
<li>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Content-Disposition：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attachment; filename= "uploadingfiles.csv"</font></font></p>
</li>
<li>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Authorization：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fmetoken token = &lt;yourToken&gt;</font></font></p>
</li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/image6.2.1.FileUploadRequest.png"><img src="./Images/image6.2.1.FileUploadRequest.png" alt="" style="max-width:100%;"></a></p>
<p><br><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2）在Postman中上传文件</font></font></strong>
<br></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Postman中上传文件。</font><font style="vertical-align: inherit;">切换到Body选项卡。</font><font style="vertical-align: inherit;">选择二进制。</font><font style="vertical-align: inherit;">按选择文件并导航到</font></font></p>
<pre><code>C:\FMEData2018\Data\CellSignals\CellSignal.csv
</code></pre>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/image6.2.2.CellSignal.png"><img src="./Images/image6.2.2.CellSignal.png" alt="" style="max-width:100%;"></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击发送！</font><font style="vertical-align: inherit;">然后，查看响应</font></font></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/image6.2.3.FileUploadResponse.png"><img src="./Images/image6.2.3.FileUploadResponse.png" alt="" style="max-width:100%;"></a></p>
<hr>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可选查询字符串参数</font></font></strong></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查询字符串参数添加在URL的末尾。</font><font style="vertical-align: inherit;">如果您希望包含这些，那么URL将如下所示：</font></font></p>
<pre><code>http://&lt;yourServerHost&gt;/fmerest/v3/resources/connections/FME_SHAREDRESOURCE_DATA/filesys?createDirectories=true&amp;overwrite=false
</code></pre>
<table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">createDirectories</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">True | false</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果路径不存在，则在路径中创建目录</font></font></td>
</tr><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">overwrite</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">True | false</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 如果文件已存在，则覆盖该文件 </font></font></td>
</tr>
</tbody></table>
<hr>
<h4><a id="user-content-listing-files" class="anchor" aria-hidden="true" href="./6.1.WorkingWithResources.md#listing-files"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表文件</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此调用将列出资源中的文件。</font><font style="vertical-align: inherit;">资源中的列表文件可以在工作空间或Web应用程序中使用。</font><font style="vertical-align: inherit;">一个可能的用例是创建一个工作空间来列出资源中的所有文件，并创建一个由上传日期组织的excel电子表格。</font></font></p>
<p><br><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3）在Postman中输入以下URL和头域</font></font></strong></p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

&lt;style type =“text / css”&gt; .tg {border-collapse：collapse; border-spacing：0;} .tg td {font-family：Arial，sans-serif; font-size：14px; padding：10px 5px ; border-style：solid; border-width：1px; overflow：hidden; word-break：normal; border-color：black;} .tg th {font-family：Arial，sans-serif; font-size：14px; font-weight：normal; padding：10px 5px; border-style：solid; border-width：1px; overflow：hidden; word-break：normal; border-color：black;} .tg .tg-ej3l {background-color ：＃66ccff; vertical-align：top} .tg .tg-ufe5 {background-color：＃66ccff; vertical-align：top} &lt;/ style&gt;
</font></font><table>
  <tbody><tr>
    <th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GET</font></font></th>
    <th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://<yourServerHost>/fmerest/v3/resources/connections/FME_SHAREDRESOURCE_DATA/filesys/</font></font></th>
  </tr>
</tbody></table>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">头域：</font></font></strong></p>
<ul>
<li>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accept：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> application / json</font></font></p>
</li>
<li>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Authorization:：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fmetoken token = &lt;yourToken&gt;</font></font></p>
</li>
</ul>
<p><br><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4）查看Postman的响应</font></font></strong></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/image6.2.4.ListFileResult.png"><img src="./Images/image6.2.4.ListFileResult.png" alt="" style="max-width:100%;"></a></p>
<hr>
<h4><a id="user-content-downloading-a-file" class="anchor" aria-hidden="true" href="./6.1.WorkingWithResources.md#downloading-a-file"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载文件</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载文件调用在Web应用程序中特别有用。</font><font style="vertical-align: inherit;">这可用于将文件返回给用户。</font><font style="vertical-align: inherit;">此调用也可以在工作空间中用于下载文本文件。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此调用将资源连接中的文件作为内联资源或附件下载。</font><font style="vertical-align: inherit;">'disposition'参数仅与某些REST客户端相关。</font><font style="vertical-align: inherit;">特别是，Internet Explorer在没有附件处置头域的情况下表现不佳。</font><font style="vertical-align: inherit;">此网页仅显示响应主体而不是下载文件，因此REST客户端应检查Content-Disposition头域并处理下载。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此调用将查看“资源/ 数据”目录以查找uploadedfiles.csv。</font></font></p>
<p><br><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5）在Postman中输入以下URL和头域</font></font></strong></p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

&lt;style type =“text / css”&gt; .tg {border-collapse：collapse; border-spacing：0;} .tg td {font-family：Arial，sans-serif; font-size：14px; padding：10px 5px ; border-style：solid; border-width：1px; overflow：hidden; word-break：normal; border-color：black;} .tg th {font-family：Arial，sans-serif; font-size：14px; font-weight：normal; padding：10px 5px; border-style：solid; border-width：1px; overflow：hidden; word-break：normal; border-color：black;} .tg .tg-ao4k {background-color ：＃e6ffe6;颜色：＃333333; vertical-align：top} .tg .tg-a080 {background-color：＃e6ffe6; vertical-align：top} &lt;/ style&gt;
</font></font><table>
  <tbody><tr>
    <th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POST</font></font></th>
    <th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP：// &lt;yourServerHost&gt; /fmerest/v3/resources/connections/FME_SHAREDRESOURCE_DATA/download/uploadingfiles.csv</font></font></th>
  </tr>
</tbody></table>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">头域：</font></font></strong></p>
<ul>
<li>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accept：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> application / octet-stream</font></font></p>
</li>
<li>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Authorization：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fmetoken token = &lt;yourToken&gt;</font></font></p>
</li>
<li>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Content-Type：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> application / x-www-form-urlencoded</font></font></p>
</li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/image6.2.5.FileDownloadRequest.png"><img src="./Images/image6.2.5.FileDownloadRequest.png" alt="" style="max-width:100%;"></a></p>
<p><br><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6）输入调用主体</font></font></strong></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进入调用体内。</font><font style="vertical-align: inherit;">单击body选项卡，选中raw，然后粘贴下面的内容。</font></font></p>
<pre><code>accept=contents&amp;disposition=inline
</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击发送！</font><font style="vertical-align: inherit;">然后，查看Postman的响应</font></font></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/image6.2.6.CSVDownload.png"><img src="./Images/image6.2.6.CSVDownload.png" alt="" style="max-width:100%;"></a></p>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数：</font></font></strong></p>
<table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disposition处理</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inline/attachment </font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内联将显示如何使用“Content-Disposition”头域检索资源。</font><font style="vertical-align: inherit;">此参数仅与某些REST客户端（主要是Web浏览器）相关。</font><font style="vertical-align: inherit;">如果未选择处理，则不设置头域。</font></font></td>
</tr><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Path路径</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 路径，相对于资源连接（例如，upload.csv） </font></font></td>
</tr><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资Resource源</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源连接的名称。</font><font style="vertical-align: inherit;">只能包含字母数字字符。</font><font style="vertical-align: inherit;">（例如，FME_SHAREDRESOURCE_DATA）</font></font></td>
</tr>
</tbody></table>
<hr>

<table>
<tbody><tr>
<td>
<i></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
恭喜
</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

通过完成本练习，您已学会如何：
</font></font><br>
<ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用REST API上传文件</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用REST API列出文件</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用REST API下载文件</font></font></li>

</ul></td>
</tr>
</tbody></table>
</article>
  </div>
