### 7.2 检索作业历史记录

结果的分页对于返回对象集合的端点很有用，尤其是当集合具有大量结果时。为了帮助用户处理结果页面，我们将响应主体改进为以下结构：

-   **items (array\[Object\]):** 此结果页面中的项目

-   **limit (integer):** 限制此调用返回的项目数。可以将其设置为10，一次只能检索10个作业。

-   **offset (integer):** 此结果页面的偏移量

-   **totalCount (integer):** 可用项目总数

可以达到REST API允许的最大响应数。目前，一个请求中只允许1000个响应。如果您要检索整个作业历史记录，则可能会有超过1000个响应。

因此，我们可以使用偏移量一次收集1000个响应。偏移量从最新值开始，并从偏移量中减去。假设您有一个拥有10,000个作业的繁忙服务器，并且您想要检索完整的作业历史记录。对于第一次调用，您需要将限制设置为1000，将偏移设置为0.这将检索最新的1000个作业。下一次调用必须将限制设置为1000，将偏移设置为1000.这将检索下一个最新的1000个作业。

下一个练习演示了如何检索作业历史记录并创建包含该信息的HTML报告。
