# 网络连接 #

*Web连接*页面列出了您已上载到FME Server的Web连接以及工作空间。

从FME Server运行的许多工作空间都要求您连接并验证Web服务。例如，包含**HTTPCaller**转换器的工作空间可能要求您通过提供用户名和密码来验证Web服务，例如Google Fusion Tables。

FME Server允许您将身份验证参数作为自包含对象安全地存储和引用到这些Web服务，其方式与存储在FME Workbench中的方式相同。当您从需要Web连接的FME Server运行工作空间时，也会引用与存储连接关联的凭据，因此您不必重新输入它们。

### 添加Web连接 ###

添加Web连接有两种方法：

1. **从FME Workbench**: 当您将包含Web连接的工作空间上传到FME Server时，您可以指定是否将连接与工作空间一起上传。如果您选择上传连接，则会将其添加到此页面。

2. **在*“ Web连接”*页面上**: 单击“*新建*”。或者，选中现有连接旁边的框，然后单击“*复制*”。在“创建（或复制）Web连接”页面上，提供连接的名称并指定服务类型。根据类型提供剩余的连接和身份验证参数。单击确定。

注意：您只能为已注册FME Server的服务添加Web连接。请参阅下面的**“*管理Web服务*”**。

### 使用Web连接 ###

要使用Web连接，必须使用它引用的Web服务进行授权。只要来自Web服务的访问令牌仍然有效，从FME Desktop上传的工作空间就可以使用随上传提供的授权凭证运行。如果访问令牌无效或无法使用Web服务刷新，则必须直接使用FME Server授权Web连接。或者，从FME Desktop重新发布工作空间。

**授权与FME Server的Web连接**

1.如果尚未完成，请使用FME Server配置Web服务定义。有关更多信息，请参阅下面的管理Web服务。
2. 授权连接：
  - 单击连接以将其打开。
  - 在“编辑”页面上，单击“ *授权*”。


### 管理Web连接 ###

从FME Desktop上传包含Web连接的工作空间时，也会上传对关联Web服务的引用。要查看上传的服务，请单击“ 管理Web服务”。将打开“ Web服务”页面。（要从此页面删除Web服务，请选择并单击“ 删除”）。

在大多数情况下，FME Server会从FME Desktop上载的Web连接信息中填充Web服务凭据。只要Web服务访问令牌有效，这些凭据就足以运行工作空间。如果访问令牌不再有效或无法刷新，则必须完成Web服务配置才能直接授权与FME Server建立连接。

<!--To use the web services your connections reference, they must be registered with FME Server. There are two ways for this registration to occur:-->
**在FME Server中配置Web服务定义**
1. 单击“ **管理Web服务**”。
2. 在“ *Web服务*”页面上，单击要编辑的Web服务。
3. 在“ *编辑Web服务*”页面上，指定服务参数。对于大多数Web服务，您必须提供授权和连接凭据：

**技巧:** 有关创建应用，检索应用凭据以及设置重定向URI的信息，请单击“外部帮助链接”旁边的链接。

- **客户端ID和客户端密钥（OAuth2）或使用者密钥和使用者密钥（OAuth1）**: 与应用程序关联的凭据。您必须在Web服务中创建应用程序，然后检索该应用程序的凭据。
- **重定向URI（OAuth2）或回调URL（OAuth1）**: 解析为fmeoauth Web应用程序位置的Web地址。如果您的FME服务器完全安装在公共域中，例如在FME云上，则在发布Web服务时将正确设置重定向URI。如果FME Server是内部部署，则可能需要更改URI。您必须在已创建的应用程序中设置正确的重定向URI。
    + 如果您的FME Server配置为通过公共DNS服务中的条目访问Web服务，请使用从该服务生成的重定向URI。
    + 如果您的FME Server配置为通过DMZ访问Web服务，请使用重定向URI https://&lt;host&gt;:&lt;port&gt;/fmeoauth 在公共计算机上自定义安装fmeoauth Web服务。

4. 单击*确定*。

### 删除Web连接 ###

选中要删除的一个或多个连接旁边的框，然后单击“ *删除*”。在确认对话框中，单击“ *确定*”。
