  <div id="readme" class="readme blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="text"><h2><a id="user-content-authoring-for-the-resources-system" class="anchor" aria-hidden="true" href="./2.07.AuthoringForResources.md#authoring-for-the-resources-system"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编写资源系统</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用FME Server Web界面，可以在运行时从资源文件夹中选择数据。</font><font style="vertical-align: inherit;">但是，在某些情况下，作者需要从资源文件夹中读取数据，而最终用户不必选择它。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要执行此操作，需要使用FME参数将数据定义为来自资源文件夹。</font></font></p>
<hr>
<h3><a id="user-content-fme-parameters-for-server" class="anchor" aria-hidden="true" href="./2.07.AuthoringForResources.md#fme-parameters-for-server"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器的FME参数</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在FME Workbench中，“导航”窗口有一个名为“用户参数”的部分。</font><font style="vertical-align: inherit;">您可能已经注意到，其中一部分是FME Server特定参数的列表。</font><font style="vertical-align: inherit;">有关所有服务器参数的详细说明，请参阅</font></font><a href="https://docs.safe.com/fme/2018.0/html/FME_Desktop_Documentation/FME_ReadersWriters/!Transformer_Parameters/FME_Server_Parameters.htm" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FME Server参数文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img2.025.FMEParametersForServerInWB.png"><img src="./Images/Img2.025.FMEParametersForServerInWB.png" alt="" style="max-width:100%;"></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们的用途多种多样; </font><font style="vertical-align: inherit;">例如，FME_SECURITY_USER返回运行工作空间的用户的名称，可用于写入自定义日志，也可以根据特定用户以不同方式过滤工作空间中的数据。</font><font style="vertical-align: inherit;">FME_TOPIC将返回调用工作空间的通知主题（如果有）的名称。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，在编写资源数据时，最有用的参数是FME_SHAREDRESOURCE_DATA</font></font></p>
<hr>

<table>
<tbody><tr>
<td>
<i></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

所有这些参数的一个共同因素是它们仅在FME Server上运行工作空间时才有效。</font><font style="vertical-align: inherit;">如果工作空间在FME Desktop上运行，则不会返回值。</font><font style="vertical-align: inherit;">因此，要在桌面上测试包含此类参数的工作空间，您需要提供虚拟值。
</font></font></td>
</tr>
</tbody></table>
<hr>
<h3><a id="user-content-fme_sharedresource_data" class="anchor" aria-hidden="true" href="./2.07.AuthoringForResources.md#fme_sharedresource_data"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FME_SHAREDRESOURCE_DATA</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FME_SHAREDRESOURCE_DATA参数返回共享资源数据的路径。</font><font style="vertical-align: inherit;">在创建工作空间以直接从资源文件夹中读取数据时，通常会使用数据的本地副本创建工作空间，然后更新源数据集字段以包含FME Server参数：</font></font></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img2.026.FMEParametersForServerInSourceDataset.png"><img src="./Images/Img2.026.FMEParametersForServerInSourceDataset.png" alt="" style="max-width:100%;"></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以通过在对话框中键入来直接更新字段，但通过单击下拉箭头并选择使用文本编辑器可以更轻松地实现。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导航器窗口中的条目现在如下所示：</font></font></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img2.027.FMEParametersForServerInSourceNav.png"><img src="./Images/Img2.027.FMEParametersForServerInSourceNav.png" alt="" style="max-width:100%;"></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然参数在Desktop中以红色显示，但在服务器上运行工作空间时，参数将替换为实际路径，并按预期读取数据。</font></font></p>
<hr>

<table>
<tbody><tr>
<td>
<i></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

重要的是要记住（例如，在上面的屏幕截图中注意到）服务器参数FME_SHAREDRESOURCE_DATA在其路径中包含“Data”文件夹。
</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，我使用FME_SHAREDRESOURCE_DATA \ Zoning \ Zones.tab而不是FME_SHAREDRESOURCE_DATA \ Data \ Zoning \ Zones.tab

</font></font></td>
</tr>
</tbody></table>
<hr>
<h3><a id="user-content-shortcut-to-resource-paths" class="anchor" aria-hidden="true" href="./2.07.AuthoringForResources.md#shortcut-to-resource-paths"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源路径的快捷方式</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以复制上传数据集的路径，然后将其直接粘贴到Workbench中，而不是在上传数据之前在Workbench中设置路径。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过在FME Server资源页面中检查其属性来获取共享资源的路径。</font><font style="vertical-align: inherit;">要执行此操作，请找到资源，单击文件旁边的复选框，然后单击“操作”下拉菜单并选择“属性”：</font></font></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img2.028.ResourceProperties.png"><img src="./Images/Img2.028.ResourceProperties.png" alt="" style="max-width:100%;"></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后可以将此路径复制并粘贴到工作空间中，以便直接引用该数据集而无需手动输入。</font><font style="vertical-align: inherit;">当然，这确实要求数据已经上传到FME Server，并且在发布时不会随工作空间一起上传！</font></font></p>
<hr>

<table>
<tbody><tr>
<td>
<i></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vector小姐说......
</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

所以我可以让我的工作空间从资源文件夹中读取特定数据 - 但是如何阻止最终用户更改它？
</font></font><br><br><a href="http://52.73.3.37/fmedatastreaming/Manual/QAResponse2017.fmw?chapter=21&amp;question=9&amp;answer=1&amp;DestDataset_TEXTLINE=C%3A%5CFMEOutput%5CQAResponse.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.删​​除Job Submitter服务的安全权限</font></font></a>
<br><a href="http://52.73.3.37/fmedatastreaming/Manual/QAResponse2017.fmw?chapter=21&amp;question=9&amp;answer=2&amp;DestDataset_TEXTLINE=C%3A%5CFMEOutput%5CQAResponse.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.删除其资源文件夹的安全权限</font></font></a>
<br><a href="http://52.73.3.37/fmedatastreaming/Manual/QAResponse2017.fmw?chapter=21&amp;question=9&amp;answer=3&amp;DestDataset_TEXTLINE=C%3A%5CFMEOutput%5CQAResponse.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.使源数据集参数对该读模块是可选的</font></font></a>
<br><a href="http://52.73.3.37/fmedatastreaming/Manual/QAResponse2017.fmw?chapter=21&amp;question=9&amp;answer=4&amp;DestDataset_TEXTLINE=C%3A%5CFMEOutput%5CQAResponse.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.从工作空间中删除该源数据集的已发布参数</font></font></a>

</td>
</tr>
</tbody></table>
</article>
  </div>
