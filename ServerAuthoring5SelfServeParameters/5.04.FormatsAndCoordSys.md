  <div id="readme" class="readme blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-format-and-coordinate-system-selection" class="anchor" aria-hidden="true" href="./5.04.FormatsAndCoordSys.md#format-and-coordinate-system-selection"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式和坐标系选择</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自助服务系统允许最终用户以他们选择的模式下载数据。</font><font style="vertical-align: inherit;">该模式包括数据格式和坐标系。</font></font></p>
<hr>
<h2><a id="user-content-format-selection" class="anchor" aria-hidden="true" href="./5.04.FormatsAndCoordSys.md#format-selection"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式选择</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要在运行时控制格式，需要在FME中使用通用读模块/写模块。</font><font style="vertical-align: inherit;">Writer有一个参数来控制正在写入的数据格式。</font></font></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img5.006.GenericWriterFormatParameter.png"><img src="./Images/Img5.006.GenericWriterFormatParameter.png" alt="" style="max-width:100%;"></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，在这里，通用写模块被设置为以Tableau数据提取格式写入数据。</font><font style="vertical-align: inherit;">但是，如果工作空间的作者发布此参数，则用户可以在运行时选择自己的输出格式：</font></font></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img5.007.GenericWriterParameterPrompt.png"><img src="./Images/Img5.007.GenericWriterParameterPrompt.png" alt="" style="max-width:100%;"></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用写模块时要记住的一点是每个写模块格式都有自己的特定参数，当使用通用写模块时，可能仍需要设置这些参数。</font><font style="vertical-align: inherit;">这可以通过添加相同格式的写模块并在该写模块中设置参数来实现。</font><font style="vertical-align: inherit;">即使没有连接任何要素，通用写模块也将继承此虚拟写模块的参数。</font></font></p>
<hr>
<h2><a id="user-content-coordinate-system-selection" class="anchor" aria-hidden="true" href="./5.04.FormatsAndCoordSys.md#coordinate-system-selection"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">坐标系选择</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论格式如何，FME中的每个写模块都有一个可以发布的坐标系参数：</font></font></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img5.008.WriterCoordSysParameter.png"><img src="./Images/Img5.008.WriterCoordSysParameter.png" alt="" style="max-width:100%;"></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这允许最终用户在他们选择的坐标系中接收数据：</font></font></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img5.009.WriterCoordSysParameterPrompt.png"><img src="./Images/Img5.009.WriterCoordSysParameterPrompt.png" alt="" style="max-width:100%;"></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者，可以使用转换器（例如CsmapReprojector），在这种情况下，可以在“导航器”窗口的“转换器”部分下找到相关参数。</font><font style="vertical-align: inherit;">使用转换器的明显优势在于您可以控制其他重投影因子，例如地理转换和网格高度。</font></font></p>
<hr>
<h2><a id="user-content-using-choice-with-alias-for-formatscoordinate-systems" class="anchor" aria-hidden="true" href="./5.04.FormatsAndCoordSys.md#using-choice-with-alias-for-formatscoordinate-systems"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对格式/坐标系使用“别名选择”</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面的屏幕截图显示，虽然发布了格式和坐标系，但它们是FME Server Web界面中的纯文本字段。</font><font style="vertical-align: inherit;">这将迫使最终用户手动输入值。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更好的解决方案是使用“别名选择”参数。</font><font style="vertical-align: inherit;">它不仅显示为FME Server Web界面中的选项框，而且还显示用户的别名（因此它们以Esri Shapefile显示为格式名称而不是SHAPE）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另一个好处是作者可以将格式列表（或坐标系统）减少到一组合理的选择，而不是FME支持的格式（或坐标系统）的完整列表。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作的顺序是这样的：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用“添加参数”在Workbench中创建新的用户参数。</font><font style="vertical-align: inherit;">选择类型为选择别名，填写其他字段，然后单击配置按钮：</font></font></li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img5.010.ChoiceWithAliasCreation.png"><img src="./Images/Img5.010.ChoiceWithAliasCreation.png" alt="" style="max-width:100%;"></a></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为格式或坐标系创建带有别名参数的选项时，无需手动输入显示名称和值。</font><font style="vertical-align: inherit;">而是选择导入选项以从列表中选择所需的格式（或坐标系）：</font></font></li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img5.011.ChoiceWithAliasImportFormat.png"><img src="./Images/Img5.011.ChoiceWithAliasImportFormat.png" alt="" style="max-width:100%;"></a></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后，像这位作者一样，搜索并选择所选的格式（或坐标系）：</font></font></li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img5.012.ChoiceWithAliasFormatPick.png"><img src="./Images/Img5.012.ChoiceWithAliasFormatPick.png" alt="" style="max-width:100%;"></a></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，您必须将新定义的“别名选择”参数加入到FME导航器中的适当参数中:</font></font></li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img5.013.PublishedParameterLink.png"><img src="./Images/Img5.013.PublishedParameterLink.png" alt="" style="max-width:100%;"></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些选择将成为参数定义的一部分，并允许用户从FME Server Web界面中选择所选格式：</font></font></p>
<p><a target="_blank" rel="noopener noreferrer" href="./Images/Img5.014.ChoiceWithAliasCoordSysSelected.png"><img src="./Images/Img5.014.ChoiceWithAliasCoordSysSelected.png" alt="" style="max-width:100%;"></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意列表将如何仅显示四种选定格式，并将传递名称的简短形式，这正是FME所期望的。</font></font></p>
<hr>

<table>
<tbody><tr>
<td>
<i></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vector小姐说......
</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

让我向你提一个简单的问题！</font><font style="vertical-align: inherit;">如果发布通用写模块参数是为了确定在数据下载系统中写入数据的格式，那么通用读模块参数将用于什么用途？
</font></font><br><br><a href="http://52.73.3.37/fmedatastreaming/Manual/QAResponse2017.fmw?chapter=22&amp;question=5&amp;answer=1&amp;DestDataset_TEXTLINE=C%3A%5CFMEOutput%5CQAResponse.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.确定要在数据下载系统中读取的数据格式</font></font></a>
<br><a href="http://52.73.3.37/fmedatastreaming/Manual/QAResponse2017.fmw?chapter=22&amp;question=5&amp;answer=2&amp;DestDataset_TEXTLINE=C%3A%5CFMEOutput%5CQAResponse.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.确定要在数据上传系统中读取的数据格式</font></font></a>
<br><a href="http://52.73.3.37/fmedatastreaming/Manual/QAResponse2017.fmw?chapter=22&amp;question=5&amp;answer=3&amp;DestDataset_TEXTLINE=C%3A%5CFMEOutput%5CQAResponse.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.确定要在工作空间中使用的正确的样式转换器</font></font></a>
<br><a href="http://52.73.3.37/fmedatastreaming/Manual/QAResponse2017.fmw?chapter=22&amp;question=5&amp;answer=4&amp;DestDataset_TEXTLINE=C%3A%5CFMEOutput%5CQAResponse.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.确定我连接的是数据上传系统还是数据下载系统</font></font></a>

</td>
</tr>
</tbody></table>
</article>
  </div>
